{{!< default}}

<main id="gh-main" class="gh-main gh-canvas">
    <section class="gh-pagehead">
        <header class="gh-pagehead-content">
            <h1 class="gh-pagehead-title">Archive</h1>

            <div class="gh-pagehead-description">
                {{#if description}}
                    {{description}}
                {{else}}
                    A collection of {{plural pagination.total empty="0 issues" singular="% newsletter" plural="% newsletters"}}
                {{/if}}
            </div>
        </header>
    </section>

    {{#get "posts" filter="featured:true" limit="3" as |featured|}}
        {{#if featured}}
            <section class="gh-section gh-section-featured">
                <h3 class="gh-section-title"><span>Featured</span></h3>

                <div class="gh-featured">
                    {{#foreach featured}}
                        {{> loop}}
                    {{/foreach}}
                </div>
            </section>
        {{/if}}
    {{/get}}

    <section class="gh-section">
        {{#get "tags" include="count.posts" limit="all" as |topic|}}
            <section class="gh-section">
                <h3 class="gh-section-title">Newsletter Topics</h3>

                <div class="gh-topic">
                    {{#foreach topic}}
                        <a class="gh-topic-item" href="{{url}}">
                            <h3 class="gh-topic-name">{{name}}</h3>
                            <span class="gh-topic-count">
                                {{plural count.posts empty="0 issues" singular="% issue" plural="% issues"}}
                            </span>
                        </a>
                    {{/foreach}}
                </div>
            </section>
        {{/get}}
        <a class="gh-navigation-link u-hover reverse" href="{{url}}">
            <span class="u-hover-arrow">{{> icons/chevron-left}}</span>
            <span class="u-hover-arrow">{{> icons/chevron-left}}</span>
            Previous<span class="gh-navigation-hide">&nbsp;newsletter</span>
        </a>
        <h3 class="gh-section-title"><span>All Newsletters</span></h3>

        <div class="gh-feed">
            {{#get "posts" limit="all"}}
                {{#foreach posts}}
                    {{> loop}}
                {{/foreach}}
            {{/get}}
        </div>
    </section>
</main>